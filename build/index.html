<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index – Atlantis Subsidence (Atlans)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ef56b68f8fa1e9d2ba328e99e439f80.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-4c566427df3bab355605704658c58164.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-d4e7164801876f6d2fd3aa15ac80b4c8.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-4c566427df3bab355605704658c58164.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../_static/styles.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Atlantis Subsidence (Atlans)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../core/index.html"> 
<span class="menu-text">Atlantis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data/index.html"> 
<span class="menu-text">Input Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../usage/index.html"> 
<span class="menu-text">Usage</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../build/index.html" aria-current="page"> 
<span class="menu-text">API reference</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/Deltares-research/Atlans.jl">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/Deltares-research/Atlans.jl/issues/new/choose">
 <span class="dropdown-text">Report an Issue</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://www.deltares.nl"> 
<span class="menu-text"><span class="logo-container"> <img src="_static/images/deltares-blue.svg" class="footer-image-light" height="30"> <img src="_static/images/deltares-white.svg" class="footer-image-dark" height="30"> </span></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#api-reference" id="toc-api-reference" class="nav-link active" data-scroll-target="#api-reference">API Reference</a>
  <ul class="collapse">
  <li><a href="#modules" id="toc-modules" class="nav-link" data-scroll-target="#modules">Modules</a></li>
  <li><a href="#types" id="toc-types" class="nav-link" data-scroll-target="#types">Types</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#constants" id="toc-constants" class="nav-link" data-scroll-target="#constants">Constants</a></li>
  <li><a href="#macros" id="toc-macros" class="nav-link" data-scroll-target="#macros">Macros</a></li>
  <li><a href="#index" id="toc-index" class="nav-link" data-scroll-target="#index">Index</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>





<p><a id="API-Reference"></a></p>
<p><a id="API-Reference-1"></a></p>
<section id="api-reference" class="level1">
<h1>API Reference</h1>
<p><em>This is the private internal documentation of the Atlans API.</em></p>
<ul>
<li><a href="../build/index.html#API-Reference">API Reference</a>
<ul>
<li><a href="../build/index.html#Modules">Modules</a></li>
<li><a href="../build/index.html#Types">Types</a></li>
<li><a href="../build/index.html#Functions">Functions</a></li>
<li><a href="../build/index.html#Constants">Constants</a></li>
<li><a href="../build/index.html#Macros">Macros</a></li>
<li><a href="../build/index.html#Index">Index</a></li>
</ul></li>
</ul>
<p><a id="Modules"></a></p>
<p><a id="Modules-1"></a></p>
<section id="modules" class="level2">
<h2 class="anchored" data-anchor-id="modules">Modules</h2>
<p><a id="Types"></a></p>
<p><a id="Types-1"></a></p>
</section>
<section id="types" class="level2">
<h2 class="anchored" data-anchor-id="types">Types</h2>
<p><a id="Atlans.AdaptiveCellsize" href="#Atlans.AdaptiveCellsize">#</a> <strong><code>Atlans.AdaptiveCellsize</code></strong> — <em>Type</em>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AdaptiveCellsize</span>(Δzmax<span class="op">::</span><span class="dt">Float</span>, split_tolerance<span class="op">::</span><span class="dt">Float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Logic for splitting cells in a column to accomodate for a moving phreatic level in combination with organic matter stores. Handles how the thickness of thick voxels (&gt;Δzmax) should be discretized and determines when splitting occurs. If the thickness of a cell above, or below, the groundwater table is lower than the tolerance, no splitting occurs.</p>
<p><a id="Atlans.Clock" href="#Atlans.Clock">#</a> <strong><code>Atlans.Clock</code></strong> — <em>Type</em>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Clock</span>(time<span class="op">::</span><span class="dt">Vector{DateTime}</span>, iteration<span class="op">::</span><span class="dt">int</span>, stop_time<span class="op">::</span><span class="dt">DateTime</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Object to keep track of the stress periods, number of iterations and stop time of an Atlantis Simulation.</p>
<p><a id="Atlans.ExponentialTimeStepper" href="#Atlans.ExponentialTimeStepper">#</a> <strong><code>Atlans.ExponentialTimeStepper</code></strong> — <em>Type</em>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ExponentialTimestepper</span>(start<span class="op">::</span><span class="dt">Float</span>, multiplier<span class="op">::</span><span class="dt">T</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Struct to discretize time steps (in days) within each stress period.</p>
<p><a id="Atlans.Model-Tuple{Type, Type, Type, Type, Type, Vararg{Any, 4}}" href="#Atlans.Model-Tuple{Type, Type, Type, Type, Type, Vararg{Any, 4}}">#</a> <strong><code>Atlans.Model</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Model</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    groundwater<span class="op">::</span><span class="dt">Type</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    consolidation<span class="op">::</span><span class="dt">Type</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    oxidation<span class="op">::</span><span class="dt">Type</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    preconsolidation<span class="op">::</span><span class="dt">Type</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    shrinkage<span class="op">::</span><span class="dt">Type</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    adaptive_cellsize,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    timestepper,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    path_subsoil,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    path_lookup</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a model with specified groundwater, consolidation, oxidation and shrinkage processes from a netCDF file and CSV lookup table describing the subsurface parameters, appropriate for the chosen processes.</p>
<p><a id="Atlans.ShrinkageColumn" href="#Atlans.ShrinkageColumn">#</a> <strong><code>Atlans.ShrinkageColumn</code></strong> — <em>Type</em>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ShrinkageColumn</span><span class="dt">{S}</span>(cells, z, Δz, result, Hv0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Collection of SimpleShrinkage cells to compute shrinkage for.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>cells::Vector{S}</code>: Collection of cells containing the shrinkage process.</li>
<li><code>z::Vector{Float}</code>: Depth of the cells.</li>
<li><code>Δz::Vector{Float}</code>: Thickness of the cells.</li>
<li><code>result::Vector{Float}</code>: Computed shrinkage of each cell.</li>
<li><code>Hv0::Float</code>: Absolute depth above phreatic level to compute shrinkage for in cells.</li>
</ul>
<p><a id="Atlans.SimpleShrinkage" href="#Atlans.SimpleShrinkage">#</a> <strong><code>Atlans.SimpleShrinkage</code></strong> — <em>Type</em>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">SimpleShrinkage</span>(Δz, n, τ, r, shrinkage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Simple voxel with attributes to compute shrinkage for.</p>
<p>#Arguments</p>
<ul>
<li><code>Δz::Float</code>: Thickness of the voxel. [m]</li>
<li><code>n::Float</code>: Shrinkage factor of the voxel. [-]</li>
<li><code>L::Float</code>: Mass fraction of lutum.</li>
<li><code>H::Float</code>: Mass fraction of organic.</li>
<li><code>τ::Float</code>: Time dependent factor for shrinkage process. [days]</li>
<li><code>r::Float</code>: Direction of shrinkage, r is 3 indicates isoptropic. [-]</li>
<li><code>sf::Float</code>: TODO: look-up in document [-]</li>
<li><code>shrinkage::Float</code>: Computed shrinkage or elevation change over time. [m]</li>
</ul>
<p><a id="Atlans.Simulation-Tuple{Atlans.Model, String, Dates.DateTime}" href="#Atlans.Simulation-Tuple{Atlans.Model, String, Dates.DateTime}">#</a> <strong><code>Atlans.Simulation</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Simulation</span>(model, path_output, stop_time, forcings, additional_times)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Setup a simulation from an initialized model.</p>
<p><a id="Atlans.SoilColumn" href="#Atlans.SoilColumn">#</a> <strong><code>Atlans.SoilColumn</code></strong> — <em>Type</em>.</p>
<p>x, y, z are all midpoints.</p>
<p><a id="Atlans.VerticalDomain" href="#Atlans.VerticalDomain">#</a> <strong><code>Atlans.VerticalDomain</code></strong> — <em>Type</em>.</p>
<p>Temporary structure used to create SoilColumns.</p>
<p><a id="Functions"></a></p>
<p><a id="Functions-1"></a></p>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<p><a id="Atlans.Qcreep_derivative-Tuple{Atlans.AbcIsotache, Float64, Float64}" href="#Atlans.Qcreep_derivative-Tuple{Atlans.AbcIsotache, Float64, Float64}">#</a> <strong><code>Atlans.Qcreep_derivative</code></strong> — <em>Method</em>.</p>
<p>Derivative of Qcreep with respect to head.</p>
<p><a id="Atlans.U-Tuple{Atlans.ConsolidationProcess, Float64}" href="#Atlans.U-Tuple{Atlans.ConsolidationProcess, Float64}">#</a> <strong><code>Atlans.U</code></strong> — <em>Method</em>.</p>
<p>Terzaghi, degree of consolidation</p>
<p><a id="Atlans.add_time-Tuple{Any, Any}" href="#Atlans.add_time-Tuple{Any, Any}">#</a> <strong><code>Atlans.add_time</code></strong> — <em>Method</em>.</p>
<p>Add a new time to the unlimited time dimension, and return the index</p>
<p><a id="Atlans.advance!-Tuple{Any}" href="#Atlans.advance!-Tuple{Any}">#</a> <strong><code>Atlans.advance!</code></strong> — <em>Method</em>.</p>
<p>Advances the clock by one iteration.</p>
<p><a id="Atlans.advance_forcingperiod!-Tuple{Any, Any}" href="#Atlans.advance_forcingperiod!-Tuple{Any, Any}">#</a> <strong><code>Atlans.advance_forcingperiod!</code></strong> — <em>Method</em>.</p>
<p>Advance a single stress period for all columns.</p>
<p>Timesteps are determined by the total duration and the chosen timestepper.</p>
<p><a id="Atlans.advance_forcingperiod!-Tuple{Any}" href="#Atlans.advance_forcingperiod!-Tuple{Any}">#</a> <strong><code>Atlans.advance_forcingperiod!</code></strong> — <em>Method</em>.</p>
<p>Advance the simulation by a single forcing period. Reads new input, computes, writes output.</p>
<p><a id="Atlans.advance_forcingperiod!-Tuple{Atlans.SoilColumn, Vector{Float64}}" href="#Atlans.advance_forcingperiod!-Tuple{Atlans.SoilColumn, Vector{Float64}}">#</a> <strong><code>Atlans.advance_forcingperiod!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">advance_forcingperiod!</span>(column, timesteps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Advances a prepared column by a number of timesteps.</p>
<p>Note, the correct order of execution is:</p>
<ul>
<li>prepare a forcing period: compute pre-load stress</li>
<li>apply forcing: change load</li>
<li>advance forcing period</li>
</ul>
<p><a id="Atlans.advance_timestep!-Tuple{Atlans.SoilColumn, Float64}" href="#Atlans.advance_timestep!-Tuple{Atlans.SoilColumn, Float64}">#</a> <strong><code>Atlans.advance_timestep!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">advance_timestep!</span>(column, Δt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Advance a single timestep.</p>
<p>During a timestep the following states are computed:</p>
<pre><code>* head
* pore pressure
* total stress
* effective stress</code></pre>
<p>Then, consolidation and oxidation are computed.</p>
<p>Finally, thickness and elevation are updated.</p>
<p><a id="Atlans.cellsplit!-Tuple{Atlans.OxidationColumn{Atlans.CarbonStore}, Vararg{Any, 4}}" href="#Atlans.cellsplit!-Tuple{Atlans.OxidationColumn{Atlans.CarbonStore}, Vararg{Any, 4}}">#</a> <strong><code>Atlans.cellsplit!</code></strong> — <em>Method</em>.</p>
<p>For CarbonStore, organic and mineral mass should be split according to cell height (Δz).</p>
<p><a id="Atlans.cellsplit!-Tuple{Union{Atlans.ConsolidationColumn{Atlans.NullConsolidation, Atlans.OverConsolidationRatio}, Atlans.OxidationColumn{Atlans.NullOxidation}, Atlans.ShrinkageColumn{Atlans.NullShrinkage}}, Vararg{Any, 4}}" href="#Atlans.cellsplit!-Tuple{Union{Atlans.ConsolidationColumn{Atlans.NullConsolidation, Atlans.OverConsolidationRatio}, Atlans.OxidationColumn{Atlans.NullOxidation}, Atlans.ShrinkageColumn{Atlans.NullShrinkage}}, Vararg{Any, 4}}">#</a> <strong><code>Atlans.cellsplit!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cellsplit!</span>(column, _, newlength, _, _,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Logic for cellsplit! if one of the processes is ignored (e.g.&nbsp;NullConsolidation).</p>
<p><a id="Atlans.compress_γ_dry-Tuple{Atlans.ConsolidationProcess, Float64}" href="#Atlans.compress_γ_dry-Tuple{Atlans.ConsolidationProcess, Float64}">#</a> <strong><code>Atlans.compress_γ_dry</code></strong> — <em>Method</em>.</p>
<p>Consolidation reduces pore space, pushes out the air.</p>
<p><a id="Atlans.compress_γ_wet-Tuple{Atlans.ConsolidationProcess, Float64}" href="#Atlans.compress_γ_wet-Tuple{Atlans.ConsolidationProcess, Float64}">#</a> <strong><code>Atlans.compress_γ_wet</code></strong> — <em>Method</em>.</p>
<p>Consolidation reduces pore space, pushes out the water.</p>
<p><a id="Atlans.consolidate-Tuple{Atlans.DrainingAbcIsotache, Any, Any}" href="#Atlans.consolidate-Tuple{Atlans.DrainingAbcIsotache, Any, Any}">#</a> <strong><code>Atlans.consolidate</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">consolidate</span>(abc<span class="op">::</span><span class="dt">DrainingAbcIsotache</span>, σ′, Δt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Compute consolidation for a single cell.</p>
<p>The cell contains a state U for Terzaghi’s degree of consolidation. This state is updated every consolidate step. During every Δt, a new U is computed. The increase in U can be directly related to the pore pressure, and so the increase in effective stress is equal to the effective stress prior to loading (abc.σ′) and the new effective stress (σ′) reached when U becomes 1.0.</p>
<p>The degree of consolidation plays only one role: it distributes the load (final σ′ - initial σ′) over time and as the column might be submerging, the increase in σ′ may become lower, providing a negative feedback mechanism.</p>
<p><a id="Atlans.create_timesteps-Tuple{Atlans.ExponentialTimeStepper, Any}" href="#Atlans.create_timesteps-Tuple{Atlans.ExponentialTimeStepper, Any}">#</a> <strong><code>Atlans.create_timesteps</code></strong> — <em>Method</em>.</p>
<p>Based on the duration and the timestepper, create the required timesteps.</p>
<p><a id="Atlans.currenttime-Tuple{Any}" href="#Atlans.currenttime-Tuple{Any}">#</a> <strong><code>Atlans.currenttime</code></strong> — <em>Method</em>.</p>
<p>Return current time.</p>
<p><a id="Atlans.discretize-Tuple{Any, Float64}" href="#Atlans.discretize-Tuple{Any, Float64}">#</a> <strong><code>Atlans.discretize</code></strong> — <em>Method</em>.</p>
<p>In how many equal parts should a thick cell be divided?</p>
<p><a id="Atlans.draining_abc_isotache_column-NTuple{8, Any}" href="#Atlans.draining_abc_isotache_column-NTuple{8, Any}">#</a> <strong><code>Atlans.draining_abc_isotache_column</code></strong> — <em>Method</em>.</p>
<p>Turn a collection of vectors into a collection of DrainingAbcIsotache cells.</p>
<p><a id="Atlans.effective_stress!-Tuple{Atlans.AbstractConsolidationColumn}" href="#Atlans.effective_stress!-Tuple{Atlans.AbstractConsolidationColumn}">#</a> <strong><code>Atlans.effective_stress!</code></strong> — <em>Method</em>.</p>
<p>Compute effective stress for entire column</p>
<p><a id="Atlans.formulate-Tuple{Atlans.AbcIsotache, Vararg{Float64, 4}}" href="#Atlans.formulate-Tuple{Atlans.AbcIsotache, Vararg{Float64, 4}}">#</a> <strong><code>Atlans.formulate</code></strong> — <em>Method</em>.</p>
<p>First term of Taylor expansion</p>
<p>f(x) ~= f(a) + f′(a) * (x - a)</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.CarbonStore}, Any, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.CarbonStore}, Any, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{CarbonStore}</span>, domain, subsoil, I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a OxidationColumn for a domain at location I based subsurface input.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.CarbonStore}, Atlans.VerticalDomain, Dict}" href="#Atlans.initialize-Tuple{Type{Atlans.CarbonStore}, Atlans.VerticalDomain, Dict}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{CarbonStore}</span>, domain<span class="op">::</span><span class="dt">VerticalDomain</span>, lookup_table<span class="op">::</span><span class="dt">Dict</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a OxidationSurcharge column that can be added to an OxidationColumn when Surcharge is applied as a forcing during a forcingperiod.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.DrainingAbcIsotache}, Type, Any, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.DrainingAbcIsotache}, Type, Any, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{DrainingAbcIsotache}</span>, domain, subsoil, I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a ConsolidationColumn for a domain at location I based subsurface input.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.DrainingAbcIsotache}, Type, Atlans.VerticalDomain, Dict}" href="#Atlans.initialize-Tuple{Type{Atlans.DrainingAbcIsotache}, Type, Atlans.VerticalDomain, Dict}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">::</span><span class="dt">Type{DrainingAbcIsotache}</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    preconsolidation<span class="op">::</span><span class="dt">Type</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    domain<span class="op">::</span><span class="dt">VerticalDomain</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    lookup_table<span class="op">::</span><span class="dt">Dict</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a ConsolidationSurcharge column that can be added to a ConsolidationColumn when Surcharge is applied as a forcing during a forcingperiod.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.HydrostaticGroundwater}, Atlans.Phreatic, Atlans.VerticalDomain}" href="#Atlans.initialize-Tuple{Type{Atlans.HydrostaticGroundwater}, Atlans.Phreatic, Atlans.VerticalDomain}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{HydrostaticGroundwater}</span>, phreatic<span class="op">::</span><span class="dt">Phreatic</span>, domain<span class="op">::</span><span class="dt">VerticalDomain</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a GroundwaterSurcharge column that can be added to a HydrostaticGroundwater column when Surcharge is applied as a forcing during a forcingperiod.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.NullConsolidation}, Type, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.NullConsolidation}, Type, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{NullConsolidation}</span>, preconsolidation<span class="op">::</span><span class="dt">Type</span>, domain, _)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize an empty ConsolidationSurcharge column when the consolidation process is ignored.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.NullConsolidation}, Vararg{Any, 4}}" href="#Atlans.initialize-Tuple{Type{Atlans.NullConsolidation}, Vararg{Any, 4}}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{NullConsolidation}</span>, domain, subsoil, I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize an empty ConsolidationColumn (i.e.&nbsp;consolidation is ignored) at location I.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.NullOxidation}, Any, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.NullOxidation}, Any, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{SimpleShrinkage}</span>, domain, subsoil, I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize an empty OxidationColumn (i.e.&nbsp;oxidation is ignored) at location I.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.NullOxidation}, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.NullOxidation}, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{NullOxidation}</span>, domain, _)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize an empty OxidationSurcharge column when the oxidation process is ignored.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.NullShrinkage}, Any, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.NullShrinkage}, Any, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{SimpleShrinkage}</span>, domain, subsoil, I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize an empty ShrinkageColumn (i.e.&nbsp;shrinkage is ignored) at location I.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.NullShrinkage}, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.NullShrinkage}, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{NullShrinkage}</span>, domain, _)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize an empty ShrinkageSurcharge column when the shrinkage process is ignored.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.SimpleShrinkage}, Any, Any, Any}" href="#Atlans.initialize-Tuple{Type{Atlans.SimpleShrinkage}, Any, Any, Any}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{SimpleShrinkage}</span>, domain, subsoil, I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a ShrinkageColumn for a domain at location I based subsurface input.</p>
<p><a id="Atlans.initialize-Tuple{Type{Atlans.SimpleShrinkage}, Atlans.VerticalDomain, Dict}" href="#Atlans.initialize-Tuple{Type{Atlans.SimpleShrinkage}, Atlans.VerticalDomain, Dict}">#</a> <strong><code>Atlans.initialize</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">initialize</span>(<span class="op">::</span><span class="dt">Type{SimpleShrinkage}</span>, domain<span class="op">::</span><span class="dt">VerticalDomain</span>, lookup_table<span class="op">::</span><span class="dt">Dict</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initialize a ShrinkageSurcharge column that can be added to an ShrinkageColumn when Surcharge is applied as a forcing during a forcingperiod.</p>
<p><a id="Atlans.parse_loglevel-Tuple{AbstractString}" href="#Atlans.parse_loglevel-Tuple{AbstractString}">#</a> <strong><code>Atlans.parse_loglevel</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_loglevel</span>(input_level<span class="op">::</span><span class="dt">AbstractString</span>)<span class="op">::</span><span class="dt">LogLevel</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_loglevel</span>(input_level<span class="op">::</span><span class="dt">Integer</span>)<span class="op">::</span><span class="dt">LogLevel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Parse a log level from either an integer or string.</p>
<p><strong>Examples</strong></p>
<pre><code>parse_loglevel("info") -&gt; Logging.Info
parse_loglevel(0) -&gt; LogLevel(0) (== Logging.Info)</code></pre>
<p><a id="Atlans.periodduration-Tuple{Any}" href="#Atlans.periodduration-Tuple{Any}">#</a> <strong><code>Atlans.periodduration</code></strong> — <em>Method</em>.</p>
<p>Compute duration of forcing period from current time.</p>
<p><a id="Atlans.pow-Tuple{Any, Any}" href="#Atlans.pow-Tuple{Any, Any}">#</a> <strong><code>Atlans.pow</code></strong> — <em>Method</em>.</p>
<p>Faster method for exponentiation</p>
<p><a id="Atlans.prepare_domain-NTuple{7, Any}" href="#Atlans.prepare_domain-NTuple{7, Any}">#</a> <strong><code>Atlans.prepare_domain</code></strong> — <em>Method</em>.</p>
<p>Temporary structure used to create SoilColumns.</p>
<p><a id="Atlans.prepare_forcingperiod!" href="#Atlans.prepare_forcingperiod!">#</a> <strong><code>Atlans.prepare_forcingperiod!</code></strong> — <em>Function</em>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prepare_forcingperiod!</span>(column, split_tolerance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Prepare a single forcing period.</p>
<p>This:</p>
<pre><code>* splits the soil column at maximum oxidation depth (if necessary)
* computes pore pressure, total stress, effective stress prior to this stress periods loading
* sets the effective stress in every consolidation cell
* Reset U and t for DrainingConsolidation processes.</code></pre>
<p>Note that splitting requires knowing where the phreatic level ends up after applying all forcings. This means that changes to phreatic level and deep subsidence must be accounted for. Furthermore, the split must be applied before applying the changes to compute the pre-loading effective stress.</p>
<p><a id="Atlans.prepare_forcingperiod!-Tuple{Atlans.ConsolidationColumn{Atlans.DrainingAbcIsotache, P} where P<:Atlans.Preconsolidation}" href="#Atlans.prepare_forcingperiod!-Tuple{Atlans.ConsolidationColumn{Atlans.DrainingAbcIsotache, P} where P<:Atlans.Preconsolidation}">#</a> <strong><code>Atlans.prepare_forcingperiod!</code></strong> — <em>Method</em>.</p>
<p>Reset degree of consolidation and time.</p>
<p><a id="Atlans.prepare_surcharge_column-Tuple{Atlans.Surcharge, Atlans.SoilColumn, CartesianIndex}" href="#Atlans.prepare_surcharge_column-Tuple{Atlans.Surcharge, Atlans.SoilColumn, CartesianIndex}">#</a> <strong><code>Atlans.prepare_surcharge_column</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prepare_surcharge_column</span>(sur<span class="op">::</span><span class="dt">Surcharge</span>, column<span class="op">::</span><span class="dt">SoilColumn</span>, I<span class="op">::</span><span class="dt">CartesianIndex</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Create a SurchargeColumn with correct groundwater, consolidation, oxidation and shrinkage Surcharge columns. The correct Atlantis processes (e.g.&nbsp;DrainingAbcIsotache) that each of the Surcharge columns are built-up from, are derived from the input SoilColumn. The CartesianIndex reads to lithology and thickness to build the Surcharge column from at the correct location in the Surcharge forcing input.</p>
<p><a id="Atlans.prepare_timestep!-Tuple{Atlans.SoilColumn, Any}" href="#Atlans.prepare_timestep!-Tuple{Atlans.SoilColumn, Any}">#</a> <strong><code>Atlans.prepare_timestep!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prepare_timestep!</span>(column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Prepare a single timestep. This updates stresses in the column and accounts for e.g.&nbsp;drowning of the column.</p>
<p>This computes:</p>
<pre><code>* Pore pressure
* Total stress
* Effective stress</code></pre>
<p><a id="Atlans.prepare_timestep!-Tuple{Atlans.SurchargeColumn, Any}" href="#Atlans.prepare_timestep!-Tuple{Atlans.SurchargeColumn, Any}">#</a> <strong><code>Atlans.prepare_timestep!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prepare_timestep!</span>(column<span class="op">::</span><span class="dt">SurchargeColumn</span>, Δt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Set the initial stresses for a SurchargeColumn.</p>
<p><a id="Atlans.relative_oxidation_rate" href="#Atlans.relative_oxidation_rate">#</a> <strong><code>Atlans.relative_oxidation_rate</code></strong> — <em>Function</em>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">relative_oxidation_rate</span>(T<span class="op">::</span><span class="dt">Float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Empirical relation between the decay rate of organic soils and air temperature in Celsius from Hendriks and Vermeulen (1997). Relation is valid between 0° and 19.5° Celsius.</p>
<p><a id="Atlans.repeat_elements-Tuple{Any, Any}" href="#Atlans.repeat_elements-Tuple{Any, Any}">#</a> <strong><code>Atlans.repeat_elements</code></strong> — <em>Method</em>.</p>
<p>Repeat function not in base / stdlib</p>
<p><a id="Atlans.run!-Tuple{Any}" href="#Atlans.run!-Tuple{Any}">#</a> <strong><code>Atlans.run!</code></strong> — <em>Method</em>.</p>
<p>Run all forcing periods of the simulation.</p>
<p><a id="Atlans.set_periods!-Tuple{Any, Any}" href="#Atlans.set_periods!-Tuple{Any, Any}">#</a> <strong><code>Atlans.set_periods!</code></strong> — <em>Method</em>.</p>
<p>Collect the period boundaries from the forcing input.</p>
<p><a id="Atlans.set_surcharge!-Tuple{Atlans.SoilColumn, Atlans.SurchargeColumn}" href="#Atlans.set_surcharge!-Tuple{Atlans.SoilColumn, Atlans.SurchargeColumn}">#</a> <strong><code>Atlans.set_surcharge!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_surcharge!</span>(column<span class="op">::</span><span class="dt">SoilColumn</span>, surcharge<span class="op">::</span><span class="dt">SurchargeColumn</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Combine a SoilColumn and SurchargeColumn when Surcharge is added as a forcing during a forcingperiod.</p>
<p><a id="Atlans.shrink-Tuple{Atlans.SimpleShrinkage, Float64}" href="#Atlans.shrink-Tuple{Atlans.SimpleShrinkage, Float64}">#</a> <strong><code>Atlans.shrink</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shrink</span>(voxel, Δt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Shrink a voxel for given time interval.</p>
<p>#Arguments</p>
<ul>
<li><code>voxel::SimpleShrinkage</code>: Voxel to shrink.</li>
<li><code>Δt::Float</code>: Time interval. [days]</li>
</ul>
<p><a id="Atlans.subside!-Tuple{Atlans.SoilColumn}" href="#Atlans.subside!-Tuple{Atlans.SoilColumn}">#</a> <strong><code>Atlans.subside!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subside!</span>(column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Apply consolidation, oxidation and shrinkage to thickness</p>
<p><a id="Atlans.total_stress!-Tuple{Atlans.AbstractConsolidationColumn, Any}" href="#Atlans.total_stress!-Tuple{Atlans.AbstractConsolidationColumn, Any}">#</a> <strong><code>Atlans.total_stress!</code></strong> — <em>Method</em>.</p>
<p>Compute total stress for entire column</p>
<p><a id="Atlans.transfer_stress!-Tuple{Atlans.AbstractConsolidationColumn}" href="#Atlans.transfer_stress!-Tuple{Atlans.AbstractConsolidationColumn}">#</a> <strong><code>Atlans.transfer_stress!</code></strong> — <em>Method</em>.</p>
<p>Transfer computed stress to the cells of the ConsolidationColumn.</p>
<p><a id="Atlans.update_alpha-Tuple{Atlans.CarbonStore, Float64}" href="#Atlans.update_alpha-Tuple{Atlans.CarbonStore, Float64}">#</a> <strong><code>Atlans.update_alpha</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update_alpha</span>(cell<span class="op">::</span><span class="dt">CarbonStore</span>, T<span class="op">::</span><span class="dt">Float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Return a new CarbonStore cell with an oxidation rate (α) that is corrected for air temperature.</p>
<p><a id="Atlans.update_z!-Tuple{Atlans.SoilColumn}" href="#Atlans.update_z!-Tuple{Atlans.SoilColumn}">#</a> <strong><code>Atlans.update_z!</code></strong> — <em>Method</em>.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">update_z!</span>(column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Compute new midpoints and surface level.</p>
<p><a id="Atlans.volume_organic-Tuple{Any, Any}" href="#Atlans.volume_organic-Tuple{Any, Any}">#</a> <strong><code>Atlans.volume_organic</code></strong> — <em>Method</em>.</p>
<p>Empirical equation to compute specific volume of organic material.</p>
<p>As the organic matter in a soil breaks down, density increases. The “airiest” parts are the first to go.</p>
<p><a id="Atlans.weight-NTuple{5, Float64}" href="#Atlans.weight-NTuple{5, Float64}">#</a> <strong><code>Atlans.weight</code></strong> — <em>Method</em>.</p>
<p>Weight of (part of) a single cell</p>
<p><a id="Constants"></a></p>
<p><a id="Constants-1"></a></p>
</section>
<section id="constants" class="level2">
<h2 class="anchored" data-anchor-id="constants">Constants</h2>
<p><a id="Macros"></a></p>
<p><a id="Macros-1"></a></p>
</section>
<section id="macros" class="level2">
<h2 class="anchored" data-anchor-id="macros">Macros</h2>
<p><a id="Index"></a></p>
<p><a id="Index-1"></a></p>
</section>
<section id="index" class="level2">
<h2 class="anchored" data-anchor-id="index">Index</h2>
<ul>
<li><a href="../build/index.html#Atlans.AdaptiveCellsize"><code>Atlans.AdaptiveCellsize</code></a></li>
<li><a href="../build/index.html#Atlans.Clock"><code>Atlans.Clock</code></a></li>
<li><a href="../build/index.html#Atlans.ExponentialTimeStepper"><code>Atlans.ExponentialTimeStepper</code></a></li>
<li><a href="../build/index.html#Atlans.Model-Tuple{Type, Type, Type, Type, Type, Vararg{Any, 4}}"><code>Atlans.Model</code></a></li>
<li><a href="../build/index.html#Atlans.ShrinkageColumn"><code>Atlans.ShrinkageColumn</code></a></li>
<li><a href="../build/index.html#Atlans.SimpleShrinkage"><code>Atlans.SimpleShrinkage</code></a></li>
<li><a href="../build/index.html#Atlans.Simulation-Tuple{Atlans.Model, String, Dates.DateTime}"><code>Atlans.Simulation</code></a></li>
<li><a href="../build/index.html#Atlans.SoilColumn"><code>Atlans.SoilColumn</code></a></li>
<li><a href="../build/index.html#Atlans.VerticalDomain"><code>Atlans.VerticalDomain</code></a></li>
<li><a href="../build/index.html#Atlans.Qcreep_derivative-Tuple{Atlans.AbcIsotache, Float64, Float64}"><code>Atlans.Qcreep_derivative</code></a></li>
<li><a href="../build/index.html#Atlans.U-Tuple{Atlans.ConsolidationProcess, Float64}"><code>Atlans.U</code></a></li>
<li><a href="../build/index.html#Atlans.add_time-Tuple{Any, Any}"><code>Atlans.add_time</code></a></li>
<li><a href="../build/index.html#Atlans.advance!-Tuple{Any}"><code>Atlans.advance!</code></a></li>
<li><a href="../build/index.html#Atlans.advance_forcingperiod!-Tuple{Any, Any}"><code>Atlans.advance_forcingperiod!</code></a></li>
<li><a href="../build/index.html#Atlans.advance_forcingperiod!-Tuple{Any}"><code>Atlans.advance_forcingperiod!</code></a></li>
<li><a href="../build/index.html#Atlans.advance_forcingperiod!-Tuple{Atlans.SoilColumn, Vector{Float64}}"><code>Atlans.advance_forcingperiod!</code></a></li>
<li><a href="../build/index.html#Atlans.advance_timestep!-Tuple{Atlans.SoilColumn, Float64}"><code>Atlans.advance_timestep!</code></a></li>
<li><a href="../build/index.html#Atlans.cellsplit!-Tuple{Union{Atlans.ConsolidationColumn{Atlans.NullConsolidation, Atlans.OverConsolidationRatio}, Atlans.OxidationColumn{Atlans.NullOxidation}, Atlans.ShrinkageColumn{Atlans.NullShrinkage}}, Vararg{Any, 4}}"><code>Atlans.cellsplit!</code></a></li>
<li><a href="../build/index.html#Atlans.cellsplit!-Tuple{Atlans.OxidationColumn{Atlans.CarbonStore}, Vararg{Any, 4}}"><code>Atlans.cellsplit!</code></a></li>
<li><a href="../build/index.html#Atlans.compress_γ_dry-Tuple{Atlans.ConsolidationProcess, Float64}"><code>Atlans.compress_γ_dry</code></a></li>
<li><a href="../build/index.html#Atlans.compress_γ_wet-Tuple{Atlans.ConsolidationProcess, Float64}"><code>Atlans.compress_γ_wet</code></a></li>
<li><a href="../build/index.html#Atlans.consolidate-Tuple{Atlans.DrainingAbcIsotache, Any, Any}"><code>Atlans.consolidate</code></a></li>
<li><a href="../build/index.html#Atlans.create_timesteps-Tuple{Atlans.ExponentialTimeStepper, Any}"><code>Atlans.create_timesteps</code></a></li>
<li><a href="../build/index.html#Atlans.currenttime-Tuple{Any}"><code>Atlans.currenttime</code></a></li>
<li><a href="../build/index.html#Atlans.discretize-Tuple{Any, Float64}"><code>Atlans.discretize</code></a></li>
<li><a href="../build/index.html#Atlans.draining_abc_isotache_column-NTuple{8, Any}"><code>Atlans.draining_abc_isotache_column</code></a></li>
<li><a href="../build/index.html#Atlans.effective_stress!-Tuple{Atlans.AbstractConsolidationColumn}"><code>Atlans.effective_stress!</code></a></li>
<li><a href="../build/index.html#Atlans.formulate-Tuple{Atlans.AbcIsotache, Vararg{Float64, 4}}"><code>Atlans.formulate</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.DrainingAbcIsotache}, Type, Any, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.DrainingAbcIsotache}, Type, Atlans.VerticalDomain, Dict}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.NullConsolidation}, Type, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.SimpleShrinkage}, Any, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.NullShrinkage}, Any, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.CarbonStore}, Any, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.NullShrinkage}, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.NullConsolidation}, Vararg{Any, 4}}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.HydrostaticGroundwater}, Atlans.Phreatic, Atlans.VerticalDomain}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.NullOxidation}, Any, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.SimpleShrinkage}, Atlans.VerticalDomain, Dict}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.NullOxidation}, Any, Any}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.initialize-Tuple{Type{Atlans.CarbonStore}, Atlans.VerticalDomain, Dict}"><code>Atlans.initialize</code></a></li>
<li><a href="../build/index.html#Atlans.parse_loglevel-Tuple{AbstractString}"><code>Atlans.parse_loglevel</code></a></li>
<li><a href="../build/index.html#Atlans.periodduration-Tuple{Any}"><code>Atlans.periodduration</code></a></li>
<li><a href="../build/index.html#Atlans.pow-Tuple{Any, Any}"><code>Atlans.pow</code></a></li>
<li><a href="../build/index.html#Atlans.prepare_domain-NTuple{7, Any}"><code>Atlans.prepare_domain</code></a></li>
<li><a href="../build/index.html#Atlans.prepare_forcingperiod!"><code>Atlans.prepare_forcingperiod!</code></a></li>
<li><a href="../build/index.html#Atlans.prepare_forcingperiod!-Tuple{Atlans.ConsolidationColumn{Atlans.DrainingAbcIsotache, P} where P<:Atlans.Preconsolidation}"><code>Atlans.prepare_forcingperiod!</code></a></li>
<li><a href="../build/index.html#Atlans.prepare_surcharge_column-Tuple{Atlans.Surcharge, Atlans.SoilColumn, CartesianIndex}"><code>Atlans.prepare_surcharge_column</code></a></li>
<li><a href="../build/index.html#Atlans.prepare_timestep!-Tuple{Atlans.SoilColumn, Any}"><code>Atlans.prepare_timestep!</code></a></li>
<li><a href="../build/index.html#Atlans.prepare_timestep!-Tuple{Atlans.SurchargeColumn, Any}"><code>Atlans.prepare_timestep!</code></a></li>
<li><a href="../build/index.html#Atlans.relative_oxidation_rate"><code>Atlans.relative_oxidation_rate</code></a></li>
<li><a href="../build/index.html#Atlans.repeat_elements-Tuple{Any, Any}"><code>Atlans.repeat_elements</code></a></li>
<li><a href="../build/index.html#Atlans.run!-Tuple{Any}"><code>Atlans.run!</code></a></li>
<li><a href="../build/index.html#Atlans.set_periods!-Tuple{Any, Any}"><code>Atlans.set_periods!</code></a></li>
<li><a href="../build/index.html#Atlans.set_surcharge!-Tuple{Atlans.SoilColumn, Atlans.SurchargeColumn}"><code>Atlans.set_surcharge!</code></a></li>
<li><a href="../build/index.html#Atlans.shrink-Tuple{Atlans.SimpleShrinkage, Float64}"><code>Atlans.shrink</code></a></li>
<li><a href="../build/index.html#Atlans.subside!-Tuple{Atlans.SoilColumn}"><code>Atlans.subside!</code></a></li>
<li><a href="../build/index.html#Atlans.total_stress!-Tuple{Atlans.AbstractConsolidationColumn, Any}"><code>Atlans.total_stress!</code></a></li>
<li><a href="../build/index.html#Atlans.transfer_stress!-Tuple{Atlans.AbstractConsolidationColumn}"><code>Atlans.transfer_stress!</code></a></li>
<li><a href="../build/index.html#Atlans.update_alpha-Tuple{Atlans.CarbonStore, Float64}"><code>Atlans.update_alpha</code></a></li>
<li><a href="../build/index.html#Atlans.update_z!-Tuple{Atlans.SoilColumn}"><code>Atlans.update_z!</code></a></li>
<li><a href="../build/index.html#Atlans.volume_organic-Tuple{Any, Any}"><code>Atlans.volume_organic</code></a></li>
<li><a href="../build/index.html#Atlans.weight-NTuple{5, Float64}"><code>Atlans.weight</code></a></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>